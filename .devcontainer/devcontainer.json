// For format details, see https://aka.ms/devcontainer.json.
{
    "name": "cproject",
    "dockerComposeFile": "docker-compose.yml",
    "service": "cproject",
    "workspaceFolder": "/workspaces/${localWorkspaceFolderBasename}",
	// "mounts": [
	// 	// ... existing mounts ...
	// 	"source=${localEnv:HOME}/.ssh,target=/home/vscode/.ssh,type=bind,consistency=cached",
	// 	"source=${localEnv:HOME}/.gnupg,target=/home/vscode/.gnupg,type=bind,consistency=cached"
	// ],
    "features": {
        "ghcr.io/devcontainers/features/common-utils:2": {
            "installZsh": "true",
            "username": "vscode",
            "userUid": "1000",
            "userGid": "1000",
            "upgradePackages": "true"
        }
    },

    // General properties unrelated to the example follow...
    "remoteUser": "vscode",
    "customizations": {
        "vscode": {
            "settings": {
				"C_Cpp.intelliSenseEngine": "disabled",
                "ceedlingExplorer.projectPath": "${containerWorkspaceFolder}/${containerEnv:PROJ_DIR}",
                "terminal.integrated.profiles.linux": { "zsh": { "path": "/bin/zsh" } },
				"terminal.integrated.defaultProfile.linux": "zsh",
				"terminal.integrated.cwd": "${containerWorkspaceFolder}/${containerEnv:ZSH_CWD}"
			},
			"extensions": [
				"github.copilot-chat",
				"tintinweb.vscode-inline-bookmarks",
				"DoKca.42-ft-count-line",
				"kube.42header",
				"timonwong.shellcheck",
				"ms-vscode.cpptools",
				"cschlosser.doxdocgen",
				"numaru.vscode-ceedling-test-adapter",
				"hbenl.vscode-test-explorer",
				"ms-vscode.test-adapter-converter",
				"llvm-vs-code-extensions.vscode-clangd",
				"GitHub.github-vscode-theme"
			],
			"workbench.editorAssociations":	{
						"*.md": "vscode.markdown.preview.editor"
			}
		}
    }
}
